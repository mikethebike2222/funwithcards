/* ===============================
   Vokabeltrainer – styles.css
   =============================== */

/* ---- Design Tokens ---- */
:root{
  --header-bg:#111827;
  --text:#111827;
  --bg:#f9fafb;

  --chip:#2563eb;

  --accent:#0ea5e9;        /* Richtung-Panel */
  --accent-strong:#0369a1;

  --ok:#176427;            /* Buttons */
  --warn:#8f1b2b;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

/* ---- Base ---- */
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  color:var(--text);
  background:var(--bg);
  display:flex;
  flex-direction:column;
  overflow:auto;           /* Scroll erlaubt (Zoom-freundlich) */
}

/* ---- Header ---- */
header{
  position:sticky;
  top:0;
  z-index:30;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:10px;
  background:var(--header-bg);
  color:#fff;
}
#appTitle{ margin:0; font-size:1.2rem; }

/* ---- Landscape-only controls (Touch) ---- */
#landInfo,#freshBtn,#landModeToggle{ display:none; }

@media (orientation:landscape) and (pointer:coarse){
  #landInfo{
    display:block;
    position:fixed;
    top:calc(12px + env(safe-area-inset-top));
    right:calc(12px + env(safe-area-inset-right));
    background:var(--chip);
    color:#fff;
    padding:6px 10px;
    border-radius:12px;
    font-size:.9rem;
    z-index:50;
  }
  #freshBtn{
    display:block;
    position:fixed;
    right:calc(12px + env(safe-area-inset-right));
    top:calc(48px + env(safe-area-inset-top));
    z-index:50;
    padding:4px 8px;
    border:0;
    border-radius:8px;
    background:#10b981;
    color:#fff;
    font-size:.8rem;
  }
  #landModeToggle{
    display:block;
    position:fixed;
    right:calc(12px + env(safe-area-inset-right));
    top:calc(84px + env(safe-area-inset-top));
    z-index:50;
    padding:8px 10px;
    border-radius:999px;
    border:0;
    background:#111827;
    color:#fff;
    font-size:14px;
  }
}

/* ---- Gamification ---- */
.gbar{
  width:min(1100px,96%);
  margin:8px auto 6px;
  display:flex;
  gap:8px;
  align-items:center;
  flex-wrap:wrap;
}
.chip{
  background:#111827;
  color:#fff;
  border-radius:999px;
  padding:6px 10px;
  font-size:12px;
}

/* ---- Global Controls ---- */
.controls.global{
  width:min(1100px,96%);
  margin:4px auto 8px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:center;
}
.pill{
  border-radius:999px;
  padding:10px 14px;
  border:0;
  cursor:pointer;
}
.pill.ghost{ background:#e5e7eb; color:#111827; }
.pill.secondary{ background:#6b7280; color:#fff; }
.pill.success{ background:var(--ok); color:#fff; }
.pill.danger{ background:var(--warn); color:#fff; }

/* ---- Main area ---- */
#mainArea{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  gap:10px;
  padding:10px 0 16px;
}

/* ---- Cards ---- */
.tile{
  display:flex;
  align-items:center;
  justify-content:center;
  width:92%;
  min-height:28vh;
  border-radius:12px;
  background:#fff;
  box-shadow:0 2px 6px rgba(0,0,0,.15);
  padding:14px;
  text-align:center;
  font-size:28px;
  overflow-wrap:break-word;
  word-break:keep-all;
  hyphens:auto;
}
#tileEs, #testLeft  { background:#dbeafe; }   /* „Vorderseite“ */
#tileDe, #testRight { background:#fef3c7; }   /* „Rückseite“  */
.muted{ color:#6b7280; }

/* ---- Test action buttons ---- */
.controls.test-actions{
  display:flex;
  gap:10px;
  justify-content:center;
}

/* ---- Box bar chart ---- */
#boxChart{
  width:100%;
  height:110px;
  background:#e5e7eb;
  border-top:1px solid #e5e7eb;
  display:flex;
  align-items:flex-end;
  justify-content:space-around;
}
.bar{
  flex:1;
  margin:0 2px;
  min-height:5px;
  background:#3b82f6;
  cursor:pointer;
  border-radius:2px 2px 0 0;
}
.bar.active{ outline:2px solid #111827; }

/* ---- Inline editor ---- */
.edit-panel{
  width:min(1100px,96%);
  margin:6px auto;
  padding:10px;
  border-radius:12px;
  background:#fff;
  box-shadow:0 2px 6px rgba(0,0,0,.12);
  display:flex;
  flex-direction:column;
  gap:8px;
}
.edit-panel input{
  width:100%;
  padding:10px 12px;
  border:1px solid #e5e7eb;
  border-radius:10px;
  font-size:16px;
}
/* Harte Absicherung: Editor ist wirklich unsichtbar, wenn hidden gesetzt */
.edit-panel[hidden]{ display:none !important; }

/* ---- Drawer ---- */
.drawer{
  position:fixed;
  top:0; right:-100%;
  width:min(90vw,380px);
  height:100%;
  background:#fff;
  box-shadow:-16px 0 32px rgba(0,0,0,.12);
  padding:16px;
  z-index:100;
  transition:right .25s ease;
  overflow:auto;
}
.drawer.open{ right:0; }

#drawerClose{
  position:sticky;
  top:0;
  align-self:flex-end;
  border:0;
  background:none;
  font-size:24px;
  padding:4px 8px;
}

.panel{
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius:12px;
  padding:12px;
  margin:10px 0;
}

.row{
  display:flex;
  gap:8px;
  align-items:center;
  margin:8px 0;
  flex-wrap:wrap;
}

input, select, button{ font-size:1rem; }
input[type="text"], select{
  width:100%;
  padding:10px 12px;
  border:1px solid #e5e7eb;
  border-radius:10px;
}
.muted{ color:#6b7280; }

/* ---- Pie legend ---- */
.legend{
  display:flex;
  gap:10px;
  align-items:center;
  margin:8px 0;
  font-size:.9rem;
  flex-wrap:wrap;
}
.legend i{
  display:inline-block;
  width:12px;
  height:12px;
  border-radius:2px;
  margin-right:6px;
}

/* ---- Direction panel (prominent) ---- */
.direction-panel{
  border-color: var(--accent);
  box-shadow:0 0 0 3px rgba(14,165,233,.08) inset;
}
.direction-badge{
  background:var(--accent-strong);
  color:#fff;
  padding:6px 10px;
  border-radius:999px;
}
.direction-btn{
  background:var(--accent);
  color:#fff;
}

/* ---- Floating Action Button ---- */
#drawerToggle{
  position:fixed;
  right:12px;
  bottom:12px;
  z-index:120;
  width:48px;
  height:48px;
  border-radius:50%;
  border:0;
  background:#2563eb;
  color:#fff;
  font-size:24px;
}

/* ---- Deck actions compact ---- */
.deck-actions{ gap:6px; }
.deck-actions .pill{ padding:8px 10px; font-size:16px; }
.deck-actions .pill.ghost{ background:#e5e7eb; color:#111827; }

/* ---- Manage actions ---- */
.manage-actions{ gap:8px; }

/* ---- Accessibility helper ---- */
.sr-only{
  position:absolute !important;
  width:1px; height:1px;
  padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0);
  white-space:nowrap; border:0;
}

/* ---- Desktop: erzwinge Portrait-UI ---- */
@media (orientation:landscape) and (pointer:fine){
  #landInfo,#freshBtn,#landModeToggle{ display:none !important; }
}

/* =======================================
   Prüfmodus – Animationsklassen
   ======================================= */

.test-anim{ will-change: transform, opacity; }
.out-up   { animation: outUp 220ms ease forwards; }
.out-down { animation: outDown 220ms ease forwards; }
.in-fade  { animation: inFade 180ms ease both; }

@keyframes outUp   { to { transform: translateY(-48px); opacity: 0; } }
@keyframes outDown { to { transform: translateY( 48px); opacity: 0; } }
@keyframes inFade  { from { opacity: 0; transform: translateY(6px); }
                     to   { opacity: 1; transform: translateY(0); } }

/* Damit die Testkacheln als Block animieren */
#testPair{ position:relative; }
#testPair .tile{ transition:none; }  /* verhindert doppelte Übergänge */
