<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vokabeltrainer</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Gamification + Top Controls (Portrait & Desktop) -->
  <div class="top">
    <div class="gbar">
      <div class="chip">â­ <span id="pointsChip">0</span></div>
      <div class="chip">ğŸšï¸ <span id="levelChip">1</span></div>
      <div class="chip">ğŸ”¥ <span id="streakChip">0</span>d</div>
    </div>
    <div class="controls global">
      <button id="toggleModeBtn" class="pill secondary" type="button">Lernen</button>
      <button id="editBtn" class="pill" type="button">âœï¸ Bearbeiten</button>
    </div>
  </div>

  <!-- Hauptbereich -->
  <main id="mainArea">
    <!-- LERNEN -->
    <section id="learnPair" aria-live="polite">
      <div id="tileEs" class="tile front"></div>
      <div id="tileDe" class="tile back"></div>
    </section>

    <!-- PRÃœFEN -->
    <section id="testPair" aria-live="polite" hidden>
      <div id="testLeft" class="tile front"></div>
      <div id="testRight" class="tile back muted"></div>
    </section>

    <!-- PrÃ¼fen-Buttons -->
    <div id="testActions" class="controls test-actions" hidden>
      <button id="btnWrong" class="pill danger" type="button">âŒ Falsch</button>
      <button id="btnRight" class="pill success" type="button">âœ… Richtig</button>
    </div>

    <!-- Box-Balken (nur Portrait/Desk, nicht Landscape sichtbar) -->
    <div id="boxChart" aria-label="Box-Ãœbersicht"></div>
  </main>

  <!-- Inline-Editor -->
  <div id="editPanel" class="edit-panel" hidden>
    <input id="editA" type="text" placeholder="A">
    <input id="editB" type="text" placeholder="B">
    <div class="row">
      <button id="saveEditBtn" class="pill success" type="button">Speichern</button>
      <button id="cancelEditBtn" class="pill secondary" type="button">Abbrechen</button>
    </div>
  </div>

  <!-- Landscape HUD -->
  <div id="landHUD">
    <button id="landModeToggle" class="pill secondary small" type="button">Lernen</button>
    <div id="landBoxBadge" class="badge">B1: 0</div>
  </div>

  <!-- Test-Buttons im Landscape rechts -->
  <div id="landActions" class="land-actions" hidden>
    <button id="landWrong" class="pill danger" type="button">âŒ</button>
    <button id="landRight" class="pill success" type="button">âœ…</button>
  </div>

  <!-- Werkzeug FAB -->
  <button id="drawerToggle" title="Werkzeuge" aria-label="Werkzeuge">â˜°</button>

  <!-- Bottom-Sheet: Werkzeuge -->
  <div id="sheet" aria-hidden="true">
    <div id="sheetHeader">
      <div class="drag-handle"></div>
      <h2>Werkzeuge</h2>
      <button id="sheetClose" aria-label="SchlieÃŸen">Ã—</button>
    </div>
    <div id="sheetContent">
      <!-- 0) Balken + +7 -->
      <section class="panel">
        <h3>Fortschritt</h3>
        <div id="boxChartSheet"></div>
        <div class="row">
          <button id="freshBtn" class="pill fresh" type="button">+7</button>
        </div>
      </section>

      <!-- 1) UI-Sprache -->
      <section class="panel">
        <h3>UI-Sprache</h3>
        <div class="row">
          <label for="langSelect" class="sr-only">UI-Sprache</label>
          <select id="langSelect">
            <option value="de">Deutsch</option>
            <option value="en">English</option>
            <option value="sv">Svenska</option>
            <option value="es">EspaÃ±ol</option>
          </select>
        </div>
      </section>

      <!-- 2) Ãœbungen -->
      <section class="panel">
        <h3>Ãœbungen</h3>
        <div class="row">
          <label for="deckSelect" class="sr-only">Deck</label>
          <select id="deckSelect"></select>
        </div>
        <div class="row deck-actions">
          <button id="deckAddBtn" class="pill ghost" type="button" title="Neue Ãœbung">â•</button>
          <button id="deckRenameBtn" class="pill secondary" type="button" title="Umbenennen">âœï¸</button>
          <button id="deckDeleteBtn" class="pill danger" type="button" title="LÃ¶schen">ğŸ—‘ï¸</button>
        </div>
        <div class="row">
          <input type="text" id="sideALabelInput" placeholder="A">
          <input type="text" id="sideBLabelInput" placeholder="B">
          <button id="saveLabelsBtn" class="pill" type="button">âœ”ï¸</button>
        </div>
      </section>

      <!-- 3) CSV Import / Export -->
      <section class="panel">
        <h3>CSV Import</h3>
        <div class="row">
          <input type="file" id="csvFile" accept=".csv,text/csv,.txt">
          <small class="muted">UTF-8 / Win-1252 / ISO-8859-1; , oder ;</small>
        </div>
        <div class="row">
          <button id="exportBtn" class="pill" type="button">Exportieren</button>
        </div>

        <h4 class="subhead">Neue Karte</h4>
        <div class="row"><input type="text" id="inputSideA" placeholder="A"></div>
        <div class="row"><input type="text" id="inputSideB" placeholder="B"></div>
        <button id="addCardBtn" class="pill" type="button">Karte hinzufÃ¼gen</button>
      </section>

      <!-- 4) Richtung -->
      <section class="panel direction-panel">
        <h3>Abfrage-Richtung</h3>
        <div class="row">
          <span id="directionBadge" class="direction-badge">A â†’ B</span>
          <button id="toggleDirectionBtn" class="pill direction-btn" type="button">Richtung wechseln</button>
        </div>
      </section>

      <!-- 5) Statistik -->
      <section class="panel">
        <h3>Statistik</h3>
        <canvas id="pieChart" width="220" height="220"></canvas>
        <div id="legend" class="legend"></div>
      </section>

      <!-- 6) Verwalten -->
      <section class="panel">
        <h3>Verwalten</h3>
        <div class="row manage-actions">
          <button id="deleteBtn" class="pill danger" type="button">Aktive Karte lÃ¶schen</button>
          <button id="resetProgressBtn" class="pill secondary" type="button">Nur Fortschritt lÃ¶schen</button>
          <button id="resetAllBtn" class="pill danger" type="button">Kartendeck lÃ¶schen</button>
        </div>
      </section>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
